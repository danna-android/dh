<div class="container">
  <div class="content-wrapper">
    <div class="search-bar">
      <input type="text" [(ngModel)]="searchTerm" placeholder="Search..." />
    </div>

    <app-items-list
      [items]="filteredItems$ | async"
      [selectedItems]="selectedItems"
      (edit)="onEdit($event)"
      (delete)="onDelete($event)"
      (toggleSelection)="toggleSelection($event.item, $event.selected)"
    >
    </app-items-list>
  </div>
  <div class="floating-buttons-container">
    <div
      class="floating-share-wrapper"
      *ngIf="selectedItems.size > 0"
      (click)="onShare()"
    >
      <button class="floating-button share">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0,0,256,256"
        >
          <g
            fill="#ffffff"
          >
            <g transform="scale(9.84615,9.84615)">
              <path
                d="M21,0c-2.76172,0 -5,2.23828 -5,5c0,0.08594 0.02734,0.16406 0.03125,0.25l-7.84375,3.9375c-0.86719,-0.73047 -1.96484,-1.1875 -3.1875,-1.1875c-2.76172,0 -5,2.23828 -5,5c0,2.76172 2.23828,5 5,5c1.22266,0 2.32031,-0.45703 3.1875,-1.1875l7.84375,3.9375c-0.00391,0.08594 -0.03125,0.16406 -0.03125,0.25c0,2.76172 2.23828,5 5,5c2.76172,0 5,-2.23828 5,-5c0,-2.76172 -2.23828,-5 -5,-5c-1.22266,0 -2.32031,0.45703 -3.1875,1.1875l-7.84375,-3.9375c0.00391,-0.08594 0.03125,-0.16406 0.03125,-0.25c0,-0.08594 -0.02734,-0.16406 -0.03125,-0.25l7.84375,-3.9375c0.86719,0.73047 1.96484,1.1875 3.1875,1.1875c2.76172,0 5,-2.23828 5,-5c0,-2.76172 -2.23828,-5 -5,-5z"
              ></path>
            </g>
          </g>
        </svg>
      </button>
      <span class="share-badge">{{ selectedItems.size }}</span>
    </div>

    <button class="floating-button add" (click)="openCreateModal()">+</button>
  </div>
</div>

<app-item-new
  *ngIf="showModal"
  [item]="selectedItem"
  (close)="closeModal()"
  (submit)="handleSubmit($event)"
>
</app-item-new>
